<html th:replace="page(main=~{::main})" lang="en" th:remove="tag">
<th:block th:fragment="main">



<div class="container">
    <div class="row">
        <div class="col-lg-12">

            <h1>Contatto</h1>

            <form action="" method="post" role="form" class="contactForm" th:action="@{contact}" th:object="${contactForm}">

                <div class="alert alert-success" role="alert" th:if="${contactForm.sent}">
                    Thnx!
                </div>

                <th:block th:if="${#fields.hasErrors('*')}">
                    <div class="alert alert-danger" role="alert"
                         th:each="err : ${#fields.errors('*')}"
                         th:text="${err}">
                        Error
                    </div>
                </th:block>

                <div class="form-group" th:classappend="${#fields.hasErrors('name')} ? has-error : _">
                    <input type="text" class="form-control" th:field="*{name}" th:disabled="*{sent} ? disabled : _"
                           placeholder="Nome o Ragione Sociale" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                    <div class="validation"></div>
                </div>
                <div class="form-group" th:classappend="${#fields.hasErrors('email')} ? has-error : _">
                    <input type="email" class="form-control" th:field="*{email}" th:disabled="*{sent} ? disabled : _"
                           placeholder="E-Mail" data-rule="email" data-msg="Please enter a valid email">
                    <div class="validation"></div>
                </div>
                <div class="form-group" th:classappend="${#fields.hasErrors('subject')} ? has-error : _">
                    <input type="text" class="form-control" th:field="*{subject}" th:disabled="*{sent} ? disabled : _"
                           placeholder="Oggetto" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject">
                    <div class="validation"></div>
                </div>
                <div class="form-group" th:classappend="${#fields.hasErrors('message')} ? has-error : _">
                    <textarea class="form-control" rows="5" th:field="*{message}" th:disabled="*{sent} ? disabled : _"
                              data-rule="required" data-msg="Please write something for us"
                              placeholder="Messagio"></textarea>
                    <div class="validation"></div>
                </div>

                <input type="hidden" th:field="*{sent}">

                <div class="text-center"><button type="submit" class="btn btn-default" th:disabled="*{sent} ? disabled : _">
                    Invia il messaggio
                </button></div>
            </form>

        </div>
    </div>
</div>

</th:block>



</html>